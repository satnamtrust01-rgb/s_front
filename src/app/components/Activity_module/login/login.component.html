<div class="login-container">
  <mat-card class="login-card">
    <button
      mat-icon-button
      class="custom-close-button"
      (click)="dialogRef.close()"
      aria-label="Close dialog"
    >
      <mat-icon>highlight_off</mat-icon>
    </button>

    <h2 class="title">Welcome Back</h2>
    <p class="subtitle">Please log in to continue</p>

    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <!-- Mobile Number -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Mobile Number</mat-label>
        <input
          matInput
          formControlName="mobile_no"
          maxlength="10"
          placeholder="Enter mobile number"
        />
        <mat-error *ngIf="loginForm.get('mobile_no')?.hasError('required')">
          Mobile number is required
        </mat-error>
        <mat-error *ngIf="loginForm.get('mobile_no')?.hasError('pattern')">
          Enter a valid 10-digit mobile number starting with 6/7/8/9
        </mat-error>
      </mat-form-field>

      <!-- Password -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Password</mat-label>
        <input
          matInput
          formControlName="password"
          type="password"
          placeholder="Enter password"
        />
        <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
          Password is required
        </mat-error>
      </mat-form-field>

      <!-- Submit Button -->
      <button
        mat-raised-button
        color="primary"
        class="full-width"
        type="submit"
      >
        <mat-spinner
          *ngIf="loading"
          [diameter]="20"
          strokeWidth="4"
        ></mat-spinner>
        <span *ngIf="!loading">Login</span>
      </button>
    </form>

    <!-- Links -->
    <div class="links">
      <p>Don't have an account?</p>
      <a mat-button color="accent" (click)="onRegister()">Create Account</a>
    </div>
  </mat-card>
</div>
